import { Component, computed, inject, input } from '@angular/core';
import { DomSanitizer } from '@angular/platform-browser';

const ICONS: Record<string, string> = {
  phone: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46Z" opacity="0.2"/><path d="M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.17-1.4,8.12,8.12,0,0,0,.75-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z"/></svg>',
  envelope: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M224,56l-96,88L32,56Z" opacity="0.2"/><path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48Zm-96,85.15L52.57,64H203.43ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"/></svg>',
  globe: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-26.37,16.46a7.85,7.85,0,0,0-.57.77,16.22,16.22,0,0,0-1.74,12.79c2,7.94-1.35,14.43-9.06,17.66-7.53,3.16-12.63,4.44-17.12,14.75A8,8,0,0,1,66,90.57C55.12,91.8,47.4,90.65,41.65,86A88.18,88.18,0,0,1,101.63,40.46ZM216,128a87.86,87.86,0,0,1-51.7,80.12c.81-10.54-2-22.31-8.35-30.89-5.66-7.68-25.24-16.12-34.37-20.11a8,8,0,0,1-4.72-7.3c0-6.06,3.34-9.44,6.47-12.62,3.87-3.93,8.26-8.38,8.26-17.17a23.87,23.87,0,0,0-7.61-17.38c-4.79-4.49-12.06-7-21.63-7.53a47.17,47.17,0,0,1-7.67-.88l-.2-.07A8,8,0,0,1,89.38,87a39.81,39.81,0,0,0,9.56-6c5.48-4.7,6-9.67,4.48-15.13a31.84,31.84,0,0,1-1-4.38A88.18,88.18,0,0,1,216,128Z"/></svg>',
  'github-logo': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M208,104v8a48,48,0,0,1-48,48H136a32,32,0,0,1,32,32v40H104V192a32,32,0,0,1,32-32H112a48,48,0,0,1-48-48v-8a49.28,49.28,0,0,1,8.51-27.3A51.92,51.92,0,0,1,76,32a52,52,0,0,1,43.83,24h32.34A52,52,0,0,1,196,32a51.92,51.92,0,0,1,3.49,44.7A49.28,49.28,0,0,1,208,104Z" opacity="0.2"/><path d="M208.31,75.68A59.78,59.78,0,0,0,202.93,28,8,8,0,0,0,196,24a59.75,59.75,0,0,0-48,24H124A59.75,59.75,0,0,0,76,24a8,8,0,0,0-6.93,4,59.78,59.78,0,0,0-5.38,47.68A58.14,58.14,0,0,0,56,104v8a56.06,56.06,0,0,0,48.44,55.47A39.8,39.8,0,0,0,96,192v8H72a24,24,0,0,1-24-24A40,40,0,0,0,8,136a8,8,0,0,0,0,16,24,24,0,0,1,24,24,40,40,0,0,0,40,40H96v16a8,8,0,0,0,16,0V192a24,24,0,0,1,48,0v40a8,8,0,0,0,16,0V192a39.8,39.8,0,0,0-8.44-24.53A56.06,56.06,0,0,0,216,112v-8A58.14,58.14,0,0,0,208.31,75.68ZM200,112a40,40,0,0,1-40,40H112a40,40,0,0,1-40-40v-8a41.74,41.74,0,0,1,6.9-22.48A8,8,0,0,0,80,73.55a43.81,43.81,0,0,1,.79-33.58,43.88,43.88,0,0,1,32.32,20.06A8,8,0,0,0,119.82,64h32.35a8,8,0,0,0,6.74-3.69,43.87,43.87,0,0,1,32.32-20.06A43.81,43.81,0,0,1,192,73.55a8,8,0,0,0,1.11,7.95A41.76,41.76,0,0,1,200,104Z"/></svg>',
  'read-cv-logo': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M200,24H72A16,16,0,0,0,56,40V56H40A16,16,0,0,0,24,72V216a16,16,0,0,0,16,16H184a16,16,0,0,0,16-16V200h16a16,16,0,0,0,16-16V40A16,16,0,0,0,216,24Zm-16,192H40V72H184ZM216,184H200V72a16,16,0,0,0-16-16H72V40H216Z" opacity="0.0"/><path d="M210.78,39.25l-130.25-23A16,16,0,0,0,62,29.23l-29.75,169a16,16,0,0,0,13,18.53l130.25,23h0a16,16,0,0,0,18.54-13l29.75-169A16,16,0,0,0,210.78,39.25ZM178.26,224,48,201.03l29.75-169L208,55l-29.75,169ZM89.34,58.42a8,8,0,0,1,9.27-6.48l83.06,14.65a8,8,0,0,1-1.39,15.88,8.36,8.36,0,0,1-1.4-.12L95.82,67.69A8,8,0,0,1,89.34,58.42ZM83.8,89.94a8,8,0,0,1,9.27-6.49l83.06,14.66a8,8,0,0,1-1.4,15.87,7.55,7.55,0,0,1-1.41-.12L90.27,99.2A8,8,0,0,1,83.8,89.94Zm-5.55,31.51A8,8,0,0,1,87.52,115l41.54,7.33a8,8,0,0,1-1.4,15.87,8.27,8.27,0,0,1-1.4-.12L84.72,130.72A8,8,0,0,1,78.25,121.45Z"/></svg>',
  'linkedin-logo': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M224,40V216a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8H216A8,8,0,0,1,224,40Z" opacity="0.2"/><path d="M216,24H40A16,16,0,0,0,24,40V216a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V40A16,16,0,0,0,216,24Zm0,192H40V40H216ZM112,176V120a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm-32,0V120a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm0-68a12,12,0,1,1,12,12A12,12,0,0,1,80,108Zm96,68a8,8,0,0,1-16,0V148a20,20,0,0,0-40,0v28a8,8,0,0,1-16,0V120a8,8,0,0,1,15.79-1.78A36,36,0,0,1,176,148Z"/></svg>',
  'x-logo': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M215,40l-81,98,87,106H171L120,168,58,244H14L98,142,14,40H82l47,60,56-60Z" opacity="0.2"/><path d="M214.75,211.71l-62.6-98.38,61.77-67.95a8,8,0,0,0-11.84-10.76L143.14,99.65,99.58,30.21A8,8,0,0,0,92.8,26H40A8,8,0,0,0,33.32,38.19l60.68,95.37L33.33,198.86a8,8,0,1,0,11.84,10.76l58.46-64.31,46.09,72.4A8,8,0,0,0,156.39,222H212a8,8,0,0,0,6.66-12.37ZM164.53,206,62.39,45.42H84.59L189.16,206Z"/></svg>',
  sun: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><circle cx="128" cy="128" r="60" opacity="0.2"/><path d="M120,40V16a8,8,0,0,1,16,0V40a8,8,0,0,1-16,0Zm72,88a64,64,0,1,1-64-64A64.07,64.07,0,0,1,192,128Zm-16,0a48,48,0,1,0-48,48A48.05,48.05,0,0,0,176,128ZM58.34,69.66A8,8,0,0,0,69.66,58.34l-16-16A8,8,0,0,0,42.34,53.66Zm0,116.68-16,16a8,8,0,0,0,11.32,11.32l16-16a8,8,0,0,0-11.32-11.32ZM192,72a8,8,0,0,0,5.66-2.34l16-16a8,8,0,0,0-11.32-11.32l-16,16A8,8,0,0,0,192,72Zm5.66,114.34a8,8,0,0,0-11.32,11.32l16,16a8,8,0,0,0,11.32-11.32ZM48,128a8,8,0,0,0-8-8H16a8,8,0,0,0,0,16H40A8,8,0,0,0,48,128Zm80,80a8,8,0,0,0-8,8v24a8,8,0,0,0,16,0V216A8,8,0,0,0,128,208Zm112-88H216a8,8,0,0,0,0,16h24a8,8,0,0,0,0-16Z"/></svg>',
  moon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M210.69,158.18A96,96,0,0,1,97.82,45.31,4,4,0,0,0,92,40.38,100.11,100.11,0,0,0,32,128a100,100,0,0,0,168,73.49,100.3,100.3,0,0,0,15.62-38.27A4,4,0,0,0,210.69,158.18Z" opacity="0.2"/><path d="M233.54,142.23a8,8,0,0,0-8-2,88.08,88.08,0,0,1-109.8-109.8,8,8,0,0,0-10-10,104.84,104.84,0,0,0-52.91,37A104,104,0,0,0,136,224a103.09,103.09,0,0,0,62.52-20.88,104.84,104.84,0,0,0,37-52.91A8,8,0,0,0,233.54,142.23ZM188.9,190.36A88,88,0,0,1,65.64,67.09,89,89,0,0,1,81.2,56.18C78.49,72.81,79.73,94.56,91.59,116.43a103.67,103.67,0,0,0,48,48c21.88,11.86,43.62,13.1,60.25,10.4A89,89,0,0,1,188.9,190.36Z"/></svg>',
  printer: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M200,64H56a8,8,0,0,0-8,8v80H208V72A8,8,0,0,0,200,64Z" opacity="0.2"/><path d="M214.67,72H200V40a8,8,0,0,0-8-8H64a8,8,0,0,0-8,8V72H41.33C27.36,72,16,82.77,16,96v80a8,8,0,0,0,8,8H56v32a8,8,0,0,0,8,8H192a8,8,0,0,0,8-8V184h24a8,8,0,0,0,8-8V96C232,82.77,220.64,72,214.67,72ZM72,48H184V72H72Zm112,160H72V160H184Zm32-40H200V152a8,8,0,0,0-8-8H64a8,8,0,0,0-8,8v16H32V96c0-4.41,4.19-8,9.33-8H214.67c5.14,0,9.33,3.59,9.33,8Zm-24-52a12,12,0,1,1-12-12A12,12,0,0,1,192,116Z"/></svg>',
  list: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,128ZM40,72H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16ZM216,184H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"/></svg>',
  x: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/></svg>',
};

@Component({
  selector: 'app-icon',
  template: `<span [innerHTML]="safeHtml()" style="display: inline-flex"></span>`,
})
export class IconComponent {
  readonly name = input.required<string>();
  readonly size = input(24);

  private sanitizer = inject(DomSanitizer);

  safeHtml = computed(() => {
    const svg = ICONS[this.name()];
    if (!svg) return '';
    const sized = svg
      .replace('<svg', `<svg width="${this.size()}" height="${this.size()}"`)
    return this.sanitizer.bypassSecurityTrustHtml(sized);
  });
}
